"use strict";(self.webpackChunkdividi_facil_front_end=self.webpackChunkdividi_facil_front_end||[]).push([[469],{5469:(C,u,o)=>{o.r(u),o.d(u,{AuthTestComponent:()=>M});var d=o(2200),r=o(9417),l=o(5596),m=o(8834),_=o(3746),f=o(6751),t=o(3664),p=o(7545),g=o(5404);function E(s,D){if(1&s&&(t.j41(0,"div",7)(1,"h3"),t.EFF(2,"\u{1f4ca} Resultados"),t.k0s(),t.j41(3,"pre"),t.EFF(4),t.nI1(5,"json"),t.k0s()()),2&s){const e=t.XpG();t.R7$(4),t.JRh(t.bMT(5,1,e.testResult))}}function h(s,D){if(1&s&&(t.j41(0,"div",8)(1,"h3"),t.EFF(2,"\u{1f511} Informaci\xf3n del Token"),t.k0s(),t.j41(3,"pre"),t.EFF(4),t.nI1(5,"json"),t.k0s()()),2&s){const e=t.XpG();t.R7$(4),t.JRh(t.bMT(5,1,e.tokenInfo))}}let M=(()=>{class s{authService;loginEmail="probando@test.com";loginPassword="123456";loading=!1;testResult=null;tokenInfo=null;constructor(e){this.authService=e}testLogin(){this.loading=!0,this.testResult=null,this.tokenInfo=null;const e={email:this.loginEmail,password:this.loginPassword};console.log("\u{1f9ea} Probando login con:",e),this.authService.login(e).subscribe({next:n=>{this.loading=!1,this.testResult={success:!0,response:n,timestamp:(new Date).toISOString()},n.exito&&n.data?.token&&(this.tokenInfo=this.decodeToken(n.data.token)),console.log("\u2705 Login exitoso:",n)},error:n=>{this.loading=!1,this.testResult={success:!1,error:n,timestamp:(new Date).toISOString()},console.error("\u274c Error en login:",n)}})}decodeToken(e){try{const n=JSON.parse(atob(e.split(".")[1]));return{payload:n,expiresAt:new Date(1e3*n.exp).toISOString(),isExpired:Date.now()>1e3*n.exp}}catch{return{error:"No se pudo decodificar el token"}}}static \u0275fac=function(n){return new(n||s)(t.rXU(p.u))};static \u0275cmp=t.VBU({type:s,selectors:[["app-auth-test"]],decls:21,vars:6,consts:[[1,"test-container"],[1,"test-section"],["matInput","","value","probando@test.com",3,"ngModelChange","ngModel"],["matInput","","type","password","value","123456",3,"ngModelChange","ngModel"],["mat-raised-button","","color","primary",3,"click","disabled"],["class","results",4,"ngIf"],["class","token-info",4,"ngIf"],[1,"results"],[1,"token-info"]],template:function(n,a){1&n&&(t.j41(0,"div",0)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title"),t.EFF(4,"\u{1f9ea} Pruebas de Autenticaci\xf3n"),t.k0s()(),t.j41(5,"mat-card-content")(6,"div",1)(7,"h3"),t.EFF(8,"\u{1f510} Test Login"),t.k0s(),t.j41(9,"mat-form-field")(10,"mat-label"),t.EFF(11,"Email"),t.k0s(),t.j41(12,"input",2),t.mxI("ngModelChange",function(i){return t.DH7(a.loginEmail,i)||(a.loginEmail=i),i}),t.k0s()(),t.j41(13,"mat-form-field")(14,"mat-label"),t.EFF(15,"Password"),t.k0s(),t.j41(16,"input",3),t.mxI("ngModelChange",function(i){return t.DH7(a.loginPassword,i)||(a.loginPassword=i),i}),t.k0s()(),t.j41(17,"button",4),t.bIt("click",function(){return a.testLogin()}),t.EFF(18),t.k0s()(),t.DNE(19,E,6,3,"div",5)(20,h,6,3,"div",6),t.k0s()()()),2&n&&(t.R7$(12),t.R50("ngModel",a.loginEmail),t.R7$(4),t.R50("ngModel",a.loginPassword),t.R7$(),t.Y8G("disabled",a.loading),t.R7$(),t.SpI(" ",a.loading?"Probando...":"Probar Login"," "),t.R7$(),t.Y8G("ngIf",a.testResult),t.R7$(),t.Y8G("ngIf",a.tokenInfo))},dependencies:[d.MD,d.bT,d.TG,r.YN,r.me,r.BC,r.vS,l.Hu,l.RN,l.m2,l.MM,l.dh,m.Hl,m.$z,_.fS,_.fg,g.j,g.M,f.M],styles:[".test-container[_ngcontent-%COMP%]{max-width:800px;margin:2rem auto;padding:1rem}.test-section[_ngcontent-%COMP%]{margin-bottom:2rem;padding:1rem;border:1px solid #ddd;border-radius:8px}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}.results[_ngcontent-%COMP%], .token-info[_ngcontent-%COMP%]{margin-top:2rem;padding:1rem;background:#f5f5f5;border-radius:8px}pre[_ngcontent-%COMP%]{font-size:12px;overflow-x:auto}"]})}return s})()}}]);