"use strict";(self.webpackChunkdividi_facil_front_end=self.webpackChunkdividi_facil_front_end||[]).push([[537],{2537:(G,h,n)=>{n.r(h),n.d(h,{GruposTestComponent:()=>t});var d=n(2200),e=n(5596),a=n(8834),v=n(9183),r=n(3664),f=n(3817);function E(o,l){if(1&o&&(r.j41(0,"div",8)(1,"strong"),r.EFF(2),r.k0s(),r.EFF(3),r.k0s()),2&o){const s=l.$implicit;r.R7$(2),r.JRh(s.nombreGrupo),r.R7$(),r.Lme(" - ",s.modoOperacion," - ",s.cantidadMiembros," miembros ")}}function _(o,l){if(1&o&&(r.j41(0,"div",6)(1,"h4"),r.EFF(2),r.k0s(),r.DNE(3,E,4,3,"div",7),r.k0s()),2&o){const s=r.XpG();r.R7$(2),r.SpI("\u2705 Grupos encontrados: ",s.grupos.length),r.R7$(),r.Y8G("ngForOf",s.grupos)}}function M(o,l){if(1&o&&(r.j41(0,"div",9)(1,"h3"),r.EFF(2,"\u{1f4ca} \xdaltimo Resultado"),r.k0s(),r.j41(3,"pre"),r.EFF(4),r.nI1(5,"json"),r.k0s()()),2&o){const s=r.XpG();r.R7$(4),r.JRh(r.bMT(5,1,s.testResult))}}let t=(()=>{class o{grupoService;grupos=[];loading=!1;testResult=null;constructor(s){this.grupoService=s}ngOnInit(){this.probarObtenerGrupos()}probarObtenerGrupos(){this.loading=!0,this.testResult=null,this.grupoService.obtenerGrupos().subscribe({next:s=>{this.grupos=s.exito?s.data??[]:[],this.testResult={success:s.exito,operation:"obtenerGrupos",count:this.grupos.length,data:this.grupos,timestamp:(new Date).toISOString()},this.loading=!1,console.log("\u2705 Grupos obtenidos:",this.grupos)},error:s=>{this.testResult={success:!1,operation:"obtenerGrupos",error:s,timestamp:(new Date).toISOString()},this.loading=!1,console.error("\u274c Error:",s)}})}probarCrearGrupo(){this.loading=!0,this.testResult=null;const s={nombreGrupo:`Grupo Test ${Date.now()}`,descripcion:"Grupo creado para pruebas",modoOperacion:"EQUITATIVO"};this.grupoService.crearGrupo(s).subscribe({next:p=>{this.testResult={success:p.exito,operation:"crearGrupo",response:p,timestamp:(new Date).toISOString()},this.loading=!1,console.log("\u2705 Grupo creado:",p),p.exito&&this.probarObtenerGrupos()},error:p=>{this.testResult={success:!1,operation:"crearGrupo",error:p,timestamp:(new Date).toISOString()},this.loading=!1,console.error("\u274c Error:",p)}})}static \u0275fac=function(p){return new(p||o)(r.rXU(f.b))};static \u0275cmp=r.VBU({type:o,selectors:[["app-grupos-test"]],decls:18,vars:6,consts:[[1,"test-container"],[1,"test-section"],["mat-raised-button","","color","primary",3,"click","disabled"],["class","result",4,"ngIf"],["mat-raised-button","","color","accent",3,"click","disabled"],["class","results",4,"ngIf"],[1,"result"],["class","grupo-item",4,"ngFor","ngForOf"],[1,"grupo-item"],[1,"results"]],template:function(p,g){1&p&&(r.j41(0,"div",0)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title"),r.EFF(4,"\u{1f9ea} Pruebas de Grupos"),r.k0s()(),r.j41(5,"mat-card-content")(6,"div",1)(7,"h3"),r.EFF(8,"\u{1f4cb} Obtener Grupos"),r.k0s(),r.j41(9,"button",2),r.bIt("click",function(){return g.probarObtenerGrupos()}),r.EFF(10),r.k0s(),r.DNE(11,_,4,2,"div",3),r.k0s(),r.j41(12,"div",1)(13,"h3"),r.EFF(14,"\u2795 Crear Grupo"),r.k0s(),r.j41(15,"button",4),r.bIt("click",function(){return g.probarCrearGrupo()}),r.EFF(16),r.k0s()(),r.DNE(17,M,6,3,"div",5),r.k0s()()()),2&p&&(r.R7$(9),r.Y8G("disabled",g.loading),r.R7$(),r.SpI(" ",g.loading?"Cargando...":"Probar Obtener Grupos"," "),r.R7$(),r.Y8G("ngIf",g.grupos.length>0),r.R7$(4),r.Y8G("disabled",g.loading),r.R7$(),r.SpI(" ",g.loading?"Creando...":"Crear Grupo de Prueba"," "),r.R7$(),r.Y8G("ngIf",g.testResult))},dependencies:[d.MD,d.Sq,d.bT,d.TG,e.Hu,e.RN,e.m2,e.MM,e.dh,a.Hl,a.$z,v.D6],styles:[".test-container[_ngcontent-%COMP%]{max-width:800px;margin:2rem auto;padding:1rem}.test-section[_ngcontent-%COMP%]{margin:2rem 0;padding:1rem;border:1px solid #ddd;border-radius:8px}.result[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;background:#f0f8ff;border-radius:4px}.grupo-item[_ngcontent-%COMP%]{padding:.5rem;border-bottom:1px solid #eee}.results[_ngcontent-%COMP%]{margin-top:2rem;padding:1rem;background:#f5f5f5;border-radius:8px}pre[_ngcontent-%COMP%]{font-size:12px;overflow-x:auto}"]})}return o})()},3817:(G,h,n)=>{n.d(h,{b:()=>E});var d=n(9330),e=n(7673),a=n(9437),v=n(6354),r=n(5312),f=n(8728);let E=(()=>{class _{http;apiUrl=`${r.c.apiUrl}/api/grupos`;constructor(t){this.http=t}crearGrupo(t){return console.log("[GrupoService] crearGrupo",{grupoCreacion:t}),this.http.post(this.apiUrl,t).pipe((0,a.W)(o=>(console.error("Error creando grupo:",o),(0,e.of)({exito:!1,data:void 0,mensaje:"Error al crear grupo"}))))}obtenerGrupo(t){return console.log("[GrupoService] obtenerGrupo",{idGrupo:t}),this.http.get(`${this.apiUrl}/${t}`).pipe((0,a.W)(o=>(console.error("Error obteniendo grupo:",o),(0,e.of)({exito:!1,data:void 0,mensaje:"Error al obtener grupo"}))))}obtenerGrupoPorId(t){return console.log("[GrupoService] obtenerGrupoPorId",{idGrupo:t}),this.obtenerGrupo(t)}obtenerGrupoConMiembros(t){return console.log("[GrupoService] obtenerGrupoConMiembros",{idGrupo:t}),this.http.get(`${this.apiUrl}/${t}/con-miembros`).pipe((0,a.W)(o=>(console.error("Error obteniendo grupo con miembros:",o),(0,e.of)({exito:!1,data:void 0,mensaje:"Error al obtener grupo con miembros"}))))}obtenerGrupos(){return console.log("[GrupoService] obtenerGrupos"),this.http.get(this.apiUrl).pipe((0,v.T)(t=>({exito:t.exito,data:t.data??[],mensaje:t.mensaje})),(0,a.W)(t=>(console.error("Error obteniendo grupos:",t),(0,e.of)({exito:!1,data:[],mensaje:"Error al obtener grupos"}))))}obtenerGrupoPorCodigo(t){return console.log("[GrupoService] obtenerGrupoPorCodigo",{codigo:t}),this.http.get(`${this.apiUrl}/codigo/${t}`).pipe((0,a.W)(o=>(console.error("Error obteniendo grupo por c\xf3digo:",o),(0,e.of)({exito:!1,data:void 0,mensaje:"C\xf3digo de acceso inv\xe1lido"}))))}agregarMiembro(t,o){return console.log("[GrupoService] agregarMiembro",{idGrupo:t,invitacion:o}),this.http.post(`${this.apiUrl}/${t}/miembros`,o).pipe((0,a.W)(l=>(console.error("Error agregando miembro:",l),(0,e.of)({exito:!1,data:void 0,mensaje:"Error al agregar miembro"}))))}eliminarMiembro(t,o){return console.log("[GrupoService] eliminarMiembro",{idGrupo:t,idMiembro:o}),this.http.delete(`${this.apiUrl}/${t}/miembros/${o}`).pipe((0,a.W)(l=>(console.error("Error eliminando miembro:",l),(0,e.of)({exito:!1,data:void 0,mensaje:"Error al eliminar miembro"}))))}cambiarRolMiembro(t,o,l){return console.log("[GrupoService] cambiarRolMiembro",{idGrupo:t,idMiembro:o,nuevoRol:l}),this.http.put(`${this.apiUrl}/${t}/miembros/${o}/rol`,{nuevoRol:l}).pipe((0,a.W)(p=>(console.error("Error cambiando rol:",p),(0,e.of)({exito:!1,data:void 0,mensaje:"Error al cambiar rol"}))))}generarCodigoAcceso(t){return console.log("[GrupoService] generarCodigoAcceso",{idGrupo:t}),this.http.post(`${this.apiUrl}/${t}/codigo-acceso`,{}).pipe((0,a.W)(o=>(console.error("Error generando c\xf3digo:",o),(0,e.of)({exito:!1,data:void 0,mensaje:"Error al generar c\xf3digo de acceso"}))))}actualizarGrupo(t,o){return console.log("[GrupoService] actualizarGrupo",{idGrupo:t,grupoActualizacion:o}),this.http.put(`${this.apiUrl}/${t}`,o).pipe((0,a.W)(l=>(console.error("Error actualizando grupo:",l),(0,e.of)({exito:!1,data:void 0,mensaje:"Error al actualizar grupo"}))))}eliminarGrupo(t){return console.log("[GrupoService] eliminarGrupo",{idGrupo:t}),this.http.delete(`${this.apiUrl}/${t}`).pipe((0,a.W)(o=>(console.error("Error eliminando grupo:",o),(0,e.of)({exito:!1,data:void 0,mensaje:"Error al eliminar grupo"}))))}unirseConCodigo(t){return console.log("[GrupoService] unirseConCodigo",{codigo:t}),this.obtenerGrupoPorCodigo(t)}obtenerMiembros(t){return console.log("[GrupoService] obtenerMiembros",{idGrupo:t}),this.obtenerGrupoConMiembros(t)}obtenerGruposPaginados(t=1,o=10){console.log("[GrupoService] obtenerGruposPaginados",{pagina:t,limite:o});const l=(new d.Nl).set("pagina",t.toString()).set("limite",o.toString());return this.http.get(this.apiUrl,{params:l}).pipe((0,a.W)(s=>(console.error("Error obteniendo grupos paginados:",s),(0,e.of)({exito:!1,data:[],totalRegistros:0,totalPaginas:0,paginaActual:1,registrosPorPagina:o,mensaje:"Error al obtener grupos"}))))}getGrupos(){return console.log("[GrupoService] getGrupos"),this.obtenerGrupos()}static \u0275fac=function(o){return new(o||_)(f.KVO(d.Qq))};static \u0275prov=f.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},9183:(G,h,n)=>{n.d(h,{D6:()=>g,LG:()=>s});var d=n(8728),e=n(3664),a=n(7705),v=n(2200),r=n(6609),f=n(1715);const E=["determinateSpinner"];function _(m,C){if(1&m&&(d.qSk(),e.j41(0,"svg",11),e.nrm(1,"circle",12),e.k0s()),2&m){const i=e.XpG();e.BMQ("viewBox",i._viewBox()),e.R7$(),e.xc7("stroke-dasharray",i._strokeCircumference(),"px")("stroke-dashoffset",i._strokeCircumference()/2,"px")("stroke-width",i._circleStrokeWidth(),"%"),e.BMQ("r",i._circleRadius())}}const M=new d.nKC("mat-progress-spinner-default-options",{providedIn:"root",factory:function t(){return{diameter:o}}}),o=100;let s=(()=>{class m{_elementRef=(0,d.WQX)(e.aKT);_noopAnimations;get color(){return this._color||this._defaultColor}set color(i){this._color=i}_color;_defaultColor="primary";_determinateCircle;constructor(){const i=(0,d.WQX)(M);this._noopAnimations=(0,r._)()&&!!i&&!i._forceAnimations,this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",i&&(i.color&&(this.color=this._defaultColor=i.color),i.diameter&&(this.diameter=i.diameter),i.strokeWidth&&(this.strokeWidth=i.strokeWidth))}mode;get value(){return"determinate"===this.mode?this._value:0}set value(i){this._value=Math.max(0,Math.min(100,i||0))}_value=0;get diameter(){return this._diameter}set diameter(i){this._diameter=i||0}_diameter=o;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(i){this._strokeWidth=i||0}_strokeWidth;_circleRadius(){return(this.diameter-10)/2}_viewBox(){const i=2*this._circleRadius()+this.strokeWidth;return`0 0 ${i} ${i}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(u){return new(u||m)};static \u0275cmp=e.VBU({type:m,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(u,c){if(1&u&&e.GBs(E,5),2&u){let b;e.mGM(b=e.lsd())&&(c._determinateCircle=b.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(u,c){2&u&&(e.BMQ("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===c.mode?c.value:null)("mode",c.mode),e.HbH("mat-"+c.color),e.xc7("width",c.diameter,"px")("height",c.diameter,"px")("--mat-progress-spinner-size",c.diameter+"px")("--mat-progress-spinner-active-indicator-width",c.diameter+"px"),e.AVh("_mat-animation-noopable",c._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===c.mode))},inputs:{color:"color",mode:"mode",value:[2,"value","value",a.Udg],diameter:[2,"diameter","diameter",a.Udg],strokeWidth:[2,"strokeWidth","strokeWidth",a.Udg]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(u,c){if(1&u&&(e.DNE(0,_,2,8,"ng-template",null,0,e.C5r),e.j41(2,"div",2,1),d.qSk(),e.j41(4,"svg",3),e.nrm(5,"circle",4),e.k0s()(),d.joV(),e.j41(6,"div",5)(7,"div",6)(8,"div",7),e.eu8(9,8),e.k0s(),e.j41(10,"div",9),e.eu8(11,8),e.k0s(),e.j41(12,"div",10),e.eu8(13,8),e.k0s()()()),2&u){const b=e.sdS(1);e.R7$(4),e.BMQ("viewBox",c._viewBox()),e.R7$(),e.xc7("stroke-dasharray",c._strokeCircumference(),"px")("stroke-dashoffset",c._strokeDashOffset(),"px")("stroke-width",c._circleStrokeWidth(),"%"),e.BMQ("r",c._circleRadius()),e.R7$(4),e.Y8G("ngTemplateOutlet",b),e.R7$(2),e.Y8G("ngTemplateOutlet",b),e.R7$(2),e.Y8G("ngTemplateOutlet",b)}},dependencies:[v.T3],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mat-progress-spinner-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mat-progress-spinner-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}\n"],encapsulation:2,changeDetection:0})}return m})(),g=(()=>{class m{static \u0275fac=function(u){return new(u||m)};static \u0275mod=e.$C({type:m});static \u0275inj=d.G2t({imports:[f.M]})}return m})()}}]);