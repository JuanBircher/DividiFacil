"use strict";(self.webpackChunkdividi_facil_front_end=self.webpackChunkdividi_facil_front_end||[]).push([[842],{461:(I,h,n)=>{n.r(h),n.d(h,{LoginComponent:()=>w});var d=n(2200),r=n(9417),p=n(8132),g=n(5596),k=n(6751),M=n(3746),P=n(8834),C=n(9183),O=n(1074),v=n(2765),e=n(3664),b=n(7545),D=n(1782),f=n(5404),x=n(9010);function s(a,u){1&a&&(e.j41(0,"mat-error"),e.EFF(1," El email es requerido "),e.k0s())}function y(a,u){1&a&&(e.j41(0,"mat-error"),e.EFF(1," Ingresa un email v\xe1lido "),e.k0s())}function t(a,u){1&a&&(e.j41(0,"mat-error"),e.EFF(1," La contrase\xf1a es requerida "),e.k0s())}function c(a,u){if(1&a&&(e.j41(0,"div",20)(1,"mat-icon"),e.EFF(2,"error"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.k0s()()),2&a){const m=e.XpG();e.R7$(4),e.JRh(m.error)}}function i(a,u){1&a&&e.nrm(0,"mat-spinner",21)}function _(a,u){1&a&&(e.j41(0,"span"),e.EFF(1,"Iniciar Sesi\xf3n"),e.k0s())}function F(a,u){1&a&&(e.j41(0,"span"),e.EFF(1,"Iniciando..."),e.k0s())}let w=(()=>{class a{fb;authService;router;error=null;loading=!1;form;hidePassword=!0;constructor(m,l,o){this.fb=m,this.authService=l,this.router=o,this.form=this.fb.group({email:["",[r.k0.required,r.k0.email]],password:["",[r.k0.required,r.k0.minLength(6)]],rememberMe:[!1]})}ngOnInit(){this.authService.estaLogueado()&&this.router.navigate(["/dashboard"]);const m=localStorage.getItem("rememberedEmail");m&&(this.form.get("email")?.setValue(m),this.form.get("rememberMe")?.setValue(!0))}onSubmit(){if(this.error=null,this.form.invalid)return void this.form.markAllAsTouched();this.loading=!0;const m={email:this.form.value.email||"",password:this.form.value.password||""};this.form.value.rememberMe?localStorage.setItem("rememberedEmail",m.email):localStorage.removeItem("rememberedEmail"),this.authService.login(m).subscribe({next:l=>{this.loading=!1,l.exito?this.router.navigate(["/dashboard"]):this.error=l.mensaje||"Error al iniciar sesi\xf3n"},error:l=>{this.loading=!1,this.error=l.message||"Ha ocurrido un error inesperado",console.error("Error en login:",l)}})}onKeyDown(m){"Enter"===m.key&&this.form.valid&&!this.loading&&this.onSubmit()}static \u0275fac=function(l){return new(l||a)(e.rXU(r.ok),e.rXU(b.u),e.rXU(D.Ix))};static \u0275cmp=e.VBU({type:a,selectors:[["app-login"]],decls:42,vars:11,consts:[[1,"login-container"],[1,"login-card"],[1,"header-content"],[1,"app-title"],[1,"app-subtitle"],[1,"login-form",3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","type","email","formControlName","email","placeholder","tu@email.com"],["matSuffix",""],[4,"ngIf"],["matInput","","formControlName","password","placeholder","Tu contrase\xf1a",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],[1,"form-options"],["formControlName","rememberMe","color","primary"],["routerLink","/auth/recover",1,"forgot-link"],["class","error-alert",4,"ngIf"],["mat-raised-button","","color","primary","type","submit",1,"login-button","full-width",3,"disabled"],["diameter","20",4,"ngIf"],[1,"register-link"],["routerLink","/auth/register","mat-button","","color","accent"],[1,"error-alert"],["diameter","20"]],template:function(l,o){if(1&l&&(e.j41(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"div",2)(4,"h1",3),e.EFF(5,"DividiFacil"),e.k0s(),e.j41(6,"p",4),e.EFF(7,"Divide gastos de manera inteligente"),e.k0s()()(),e.j41(8,"mat-card-content")(9,"form",5),e.bIt("ngSubmit",function(){return o.onSubmit()}),e.j41(10,"mat-form-field",6)(11,"mat-label"),e.EFF(12,"Email"),e.k0s(),e.nrm(13,"input",7),e.j41(14,"mat-icon",8),e.EFF(15,"email"),e.k0s(),e.DNE(16,s,2,0,"mat-error",9)(17,y,2,0,"mat-error",9),e.k0s(),e.j41(18,"mat-form-field",6)(19,"mat-label"),e.EFF(20,"Contrase\xf1a"),e.k0s(),e.nrm(21,"input",10),e.j41(22,"button",11),e.bIt("click",function(){return o.hidePassword=!o.hidePassword}),e.j41(23,"mat-icon"),e.EFF(24),e.k0s()(),e.DNE(25,t,2,0,"mat-error",9),e.k0s(),e.j41(26,"div",12)(27,"mat-checkbox",13),e.EFF(28," Recordarme "),e.k0s(),e.j41(29,"a",14),e.EFF(30," \xbfOlvidaste tu contrase\xf1a? "),e.k0s()(),e.DNE(31,c,5,1,"div",15),e.j41(32,"button",16),e.DNE(33,i,1,0,"mat-spinner",17)(34,_,2,0,"span",9)(35,F,2,0,"span",9),e.k0s()()(),e.j41(36,"mat-card-actions")(37,"div",18)(38,"span"),e.EFF(39,"\xbfNo tienes cuenta?"),e.k0s(),e.j41(40,"a",19),e.EFF(41," Crear cuenta "),e.k0s()()()()()),2&l){let E,R,T;e.R7$(9),e.Y8G("formGroup",o.form),e.R7$(7),e.Y8G("ngIf",null==(E=o.form.get("email"))?null:E.hasError("required")),e.R7$(),e.Y8G("ngIf",null==(R=o.form.get("email"))?null:R.hasError("email")),e.R7$(4),e.Y8G("type",o.hidePassword?"password":"text"),e.R7$(3),e.JRh(o.hidePassword?"visibility_off":"visibility"),e.R7$(),e.Y8G("ngIf",null==(T=o.form.get("password"))?null:T.hasError("required")),e.R7$(6),e.Y8G("ngIf",o.error),e.R7$(),e.Y8G("disabled",o.form.invalid||o.loading),e.R7$(),e.Y8G("ngIf",o.loading),e.R7$(),e.Y8G("ngIf",!o.loading),e.R7$(),e.Y8G("ngIf",o.loading)}},dependencies:[d.MD,d.bT,r.X1,r.qT,r.me,r.BC,r.cb,r.j4,r.JD,p.iI,p.Wk,g.Hu,g.RN,g.YY,g.m2,g.MM,k.M,f.j,f.M,f.b,f.g,M.fS,M.fg,P.Hl,P.$z,x.M,C.D6,C.LG,O.m_,O.An,v.g7,v.So],styles:['@charset "UTF-8";.login-container[_ngcontent-%COMP%]{width:100%;max-width:400px;margin:0 auto}.login-card[_ngcontent-%COMP%]{box-shadow:0 10px 30px #0000004d;border-radius:12px;overflow:hidden;background:#fff}.login-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{background:#f8f9fa;padding:24px}.login-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{text-align:center;width:100%}.login-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .app-title[_ngcontent-%COMP%]{color:#333;font-size:2rem;font-weight:700;margin:0}.login-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .app-subtitle[_ngcontent-%COMP%]{color:#666;font-size:.875rem;margin:8px 0 0}.login-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:24px}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.login-form[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%}.login-form[_ngcontent-%COMP%]   .form-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:8px 0}.login-form[_ngcontent-%COMP%]   .form-options[_ngcontent-%COMP%]   .forgot-link[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-size:.875rem}.login-form[_ngcontent-%COMP%]   .form-options[_ngcontent-%COMP%]   .forgot-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.error-alert[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px;background-color:#ffebee;color:#c62828;border-radius:8px;font-size:.875rem}.error-alert[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.login-button[_ngcontent-%COMP%]{height:48px;font-size:1rem;font-weight:500;margin-top:8px}.login-button[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin-right:8px}mat-card-actions[_ngcontent-%COMP%]{padding:16px 24px;background:#f8f9fa}mat-card-actions[_ngcontent-%COMP%]   .register-link[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;font-size:.875rem}mat-card-actions[_ngcontent-%COMP%]   .register-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#666}@media (max-width: 480px){.login-container[_ngcontent-%COMP%]{padding:0 16px}.login-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:20px}}  .mat-mdc-form-field .mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-form-field-infix .mat-mdc-input-element.is-invalid{caret-color:#f44336}[_nghost-%COMP%]{contain:layout style paint;display:block}.dashboard-container[_ngcontent-%COMP%], .stats-container[_ngcontent-%COMP%], .actions-grid[_ngcontent-%COMP%], .timeline-list[_ngcontent-%COMP%]{transform:translateZ(0);will-change:transform}mat-card[_ngcontent-%COMP%]{backface-visibility:hidden}.dashboard-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .3s ease-out}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}']})}return a})()},9183:(I,h,n)=>{n.d(h,{D6:()=>x,LG:()=>D});var d=n(8728),r=n(3664),p=n(7705),g=n(2200),k=n(6609),M=n(1715);const P=["determinateSpinner"];function C(s,y){if(1&s&&(d.qSk(),r.j41(0,"svg",11),r.nrm(1,"circle",12),r.k0s()),2&s){const t=r.XpG();r.BMQ("viewBox",t._viewBox()),r.R7$(),r.xc7("stroke-dasharray",t._strokeCircumference(),"px")("stroke-dashoffset",t._strokeCircumference()/2,"px")("stroke-width",t._circleStrokeWidth(),"%"),r.BMQ("r",t._circleRadius())}}const O=new d.nKC("mat-progress-spinner-default-options",{providedIn:"root",factory:function v(){return{diameter:e}}}),e=100;let D=(()=>{class s{_elementRef=(0,d.WQX)(r.aKT);_noopAnimations;get color(){return this._color||this._defaultColor}set color(t){this._color=t}_color;_defaultColor="primary";_determinateCircle;constructor(){const t=(0,d.WQX)(O);this._noopAnimations=(0,k._)()&&!!t&&!t._forceAnimations,this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",t&&(t.color&&(this.color=this._defaultColor=t.color),t.diameter&&(this.diameter=t.diameter),t.strokeWidth&&(this.strokeWidth=t.strokeWidth))}mode;get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,t||0))}_value=0;get diameter(){return this._diameter}set diameter(t){this._diameter=t||0}_diameter=e;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(t){this._strokeWidth=t||0}_strokeWidth;_circleRadius(){return(this.diameter-10)/2}_viewBox(){const t=2*this._circleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(c){return new(c||s)};static \u0275cmp=r.VBU({type:s,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(c,i){if(1&c&&r.GBs(P,5),2&c){let _;r.mGM(_=r.lsd())&&(i._determinateCircle=_.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(c,i){2&c&&(r.BMQ("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===i.mode?i.value:null)("mode",i.mode),r.HbH("mat-"+i.color),r.xc7("width",i.diameter,"px")("height",i.diameter,"px")("--mat-progress-spinner-size",i.diameter+"px")("--mat-progress-spinner-active-indicator-width",i.diameter+"px"),r.AVh("_mat-animation-noopable",i._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===i.mode))},inputs:{color:"color",mode:"mode",value:[2,"value","value",p.Udg],diameter:[2,"diameter","diameter",p.Udg],strokeWidth:[2,"strokeWidth","strokeWidth",p.Udg]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(c,i){if(1&c&&(r.DNE(0,C,2,8,"ng-template",null,0,r.C5r),r.j41(2,"div",2,1),d.qSk(),r.j41(4,"svg",3),r.nrm(5,"circle",4),r.k0s()(),d.joV(),r.j41(6,"div",5)(7,"div",6)(8,"div",7),r.eu8(9,8),r.k0s(),r.j41(10,"div",9),r.eu8(11,8),r.k0s(),r.j41(12,"div",10),r.eu8(13,8),r.k0s()()()),2&c){const _=r.sdS(1);r.R7$(4),r.BMQ("viewBox",i._viewBox()),r.R7$(),r.xc7("stroke-dasharray",i._strokeCircumference(),"px")("stroke-dashoffset",i._strokeDashOffset(),"px")("stroke-width",i._circleStrokeWidth(),"%"),r.BMQ("r",i._circleRadius()),r.R7$(4),r.Y8G("ngTemplateOutlet",_),r.R7$(2),r.Y8G("ngTemplateOutlet",_),r.R7$(2),r.Y8G("ngTemplateOutlet",_)}},dependencies:[g.T3],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mat-progress-spinner-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mat-progress-spinner-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}\n"],encapsulation:2,changeDetection:0})}return s})(),x=(()=>{class s{static \u0275fac=function(c){return new(c||s)};static \u0275mod=r.$C({type:s});static \u0275inj=d.G2t({imports:[M.M]})}return s})()}}]);