"use strict";(self.webpackChunkdividi_facil_front_end=self.webpackChunkdividi_facil_front_end||[]).push([[76],{948:(m,d,a)=>{a.d(d,{Y:()=>t});var l=a(9330),n=a(7673),o=a(9437),g=a(6354),s=a(5312),p=a(8728);let t=(()=>{class u{http;apiUrl=`${s.c.apiUrl}/api/gastos`;constructor(e){this.http=e}crearGasto(e){return console.log("[GastoService] crearGasto",{gastoCreacion:e}),this.http.post(this.apiUrl,e).pipe((0,o.W)(r=>(console.error("Error creando gasto:",r),(0,n.of)({exito:!1,data:void 0,mensaje:r.error?.mensaje||"Error al crear gasto"}))))}obtenerGasto(e){return console.log("[GastoService] obtenerGasto",{idGasto:e}),this.http.get(`${this.apiUrl}/${e}`).pipe((0,o.W)(r=>(console.error("Error obteniendo gasto:",r),(0,n.of)({exito:!1,data:void 0,mensaje:r.error?.mensaje||"Error al obtener gasto"}))))}obtenerGastosPorGrupo(e){return console.log("[GastoService] obtenerGastosPorGrupo",{idGrupo:e}),this.http.get(`${this.apiUrl}/grupo/${e}`).pipe((0,g.T)(r=>({exito:r.exito,data:Array.isArray(r.data)?r.data:[],mensaje:r.mensaje})),(0,o.W)(r=>(console.error("Error obteniendo gastos por grupo:",r),(0,n.of)({exito:!1,data:[],mensaje:r.error?.mensaje||"Error al obtener gastos"}))))}obtenerRecientes(e=10){console.log("[GastoService] obtenerRecientes",{cantidad:e});const r=(new l.Nl).set("cantidad",e.toString());return this.http.get(`${this.apiUrl}/recientes`,{params:r}).pipe((0,g.T)(c=>({exito:c.exito,data:Array.isArray(c.data)?c.data:[],mensaje:c.mensaje})),(0,o.W)(c=>(console.error("Error obteniendo gastos recientes:",c),(0,n.of)({exito:!1,data:[],mensaje:c.error?.mensaje||"Error al obtener gastos recientes"}))))}obtenerSaldosGrupo(e){return console.log("[GastoService] obtenerSaldosGrupo",{idGrupo:e}),this.http.get(`${this.apiUrl}/saldos/grupo/${e}`).pipe((0,g.T)(r=>({exito:r.exito,data:Array.isArray(r.data)?r.data:[],mensaje:r.mensaje})),(0,o.W)(r=>(console.error("Error obteniendo saldos del grupo:",r),(0,n.of)({exito:!1,data:[],mensaje:r.error?.mensaje||"Error al obtener saldos del grupo"}))))}obtenerSaldosUsuario(){return console.log("[GastoService] obtenerSaldosUsuario"),this.http.get(`${this.apiUrl}/saldos/usuario`).pipe((0,g.T)(e=>({exito:e.exito,data:Array.isArray(e.data)?e.data:[],mensaje:e.mensaje})),(0,o.W)(e=>(console.error("Error obteniendo saldos del usuario:",e),(0,n.of)({exito:!1,data:[],mensaje:e.error?.mensaje||"Error al obtener saldos del usuario"}))))}marcarComoPagado(e,r){return console.log("[GastoService] marcarComoPagado",{idGasto:e,idDetalle:r}),this.http.put(`${this.apiUrl}/${e}/detalle/${r}/pagado`,{}).pipe((0,o.W)(c=>(console.error("Error marcando como pagado:",c),(0,n.of)({exito:!1,data:void 0,mensaje:c.error?.mensaje||"Error al marcar como pagado"}))))}eliminarGasto(e){return console.log("[GastoService] eliminarGasto",{idGasto:e}),this.http.delete(`${this.apiUrl}/${e}`).pipe((0,o.W)(r=>(console.error("Error eliminando gasto:",r),(0,n.of)({exito:!1,data:void 0,mensaje:r.error?.mensaje||"Error al eliminar gasto"}))))}obtenerGastosPaginados(e,r=1,c=10){console.log("[GastoService] obtenerGastosPaginados",{idGrupo:e,pagina:r,limite:c});const h=(new l.Nl).set("pagina",r.toString()).set("limite",c.toString());return this.http.get(`${this.apiUrl}/grupo/${e}/paginado`,{params:h}).pipe((0,o.W)(f=>(console.error("Error obteniendo gastos paginados:",f),(0,n.of)({exito:!1,data:[],totalRegistros:0,totalPaginas:0,paginaActual:1,registrosPorPagina:c,mensaje:f.error?.mensaje||"Error al obtener gastos paginados"}))))}obtenerGastos(){return console.log("[GastoService] obtenerGastos"),this.http.get(`${this.apiUrl}`).pipe((0,g.T)(e=>({exito:e.exito,data:Array.isArray(e.data)?e.data:[],mensaje:e.mensaje})),(0,o.W)(e=>(console.error("Error obteniendo gastos:",e),(0,n.of)({exito:!1,data:[],mensaje:"Error al obtener gastos"}))))}obtenerMisGastos(){return console.log("[GastoService] obtenerMisGastos"),this.obtenerRecientes(100)}obtenerEstadisticasGastos(){return console.log("[GastoService] obtenerEstadisticasGastos"),this.http.get(`${this.apiUrl}/estadisticas`).pipe((0,o.W)(e=>(console.error("Error obteniendo estad\xedsticas:",e),(0,n.of)({exito:!1,data:void 0,mensaje:e.error?.mensaje||"Error al obtener estad\xedsticas"}))))}validarGasto(e){if(console.log("[GastoService] validarGasto",{gastoCreacion:e}),!e.idGrupo||!e.descripcion||e.monto<=0||!e.detalles||0===e.detalles.length)return!1;const r=e.detalles.reduce((c,h)=>c+h.monto,0);return Math.abs(r-e.monto)<.01}actualizarGasto(e,r){return console.log("[GastoService] actualizarGasto",{idGasto:e,gasto:r}),this.http.put(`/api/gastos/${e}`,r)}static \u0275fac=function(r){return new(r||u)(p.KVO(l.Qq))};static \u0275prov=p.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()},2220:(m,d,a)=>{a.d(d,{o:()=>g});var l=a(5312),n=a(8728),o=a(9330);let g=(()=>{class s{http;apiUrl=`${l.c.apiUrl}/api/balance`;constructor(t){this.http=t}obtenerBalanceGrupo(t){return console.log("[BalanceService] obtenerBalanceGrupo",{idGrupo:t}),this.http.get(`${this.apiUrl}/grupo/${t}`)}obtenerDeudasSimplificadas(t){return console.log("[BalanceService] obtenerDeudasSimplificadas",{idGrupo:t}),this.http.get(`${this.apiUrl}/grupo/${t}/simplificado`)}obtenerBalanceUsuario(t){return console.log("[BalanceService] obtenerBalanceUsuario",{idUsuario:t}),this.http.get(`${this.apiUrl}/usuario/${t}`)}obtenerHistorialMovimientos(t){return console.log("[BalanceService] obtenerHistorialMovimientos",{idGrupo:t}),this.http.get(`${this.apiUrl}/grupo/${t}/movimientos`)}static \u0275fac=function(u){return new(u||s)(n.KVO(o.Qq))};static \u0275prov=n.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})()},3032:(m,d,a)=>{a.d(d,{o:()=>p});var l=a(7673),n=a(9437),o=a(5312),g=a(8728),s=a(9330);let p=(()=>{class t{http;apiUrl=`${o.c.apiUrl}/api/usuarios`;constructor(i){this.http=i}obtenerUsuario(i){return this.http.get(`${this.apiUrl}/${i}`).pipe((0,n.W)(e=>(console.error("Error obteniendo usuario:",e),(0,l.of)({exito:!1,data:void 0,mensaje:e.error?.mensaje||"Error al obtener usuario"}))))}actualizarUsuario(i,e){return this.http.put(`${this.apiUrl}/${i}`,e).pipe((0,n.W)(r=>(console.error("Error actualizando usuario:",r),(0,l.of)({exito:!1,data:void 0,mensaje:r.error?.mensaje||"Error al actualizar usuario"}))))}buscarPorEmail(i){return this.http.get(`${this.apiUrl}/buscar/${encodeURIComponent(i)}`).pipe((0,n.W)(e=>(console.error("Error buscando usuario:",e),(0,l.of)({exito:!1,data:void 0,mensaje:e.error?.mensaje||"Usuario no encontrado"}))))}subirImagen(i,e){const r=new FormData;return r.append("archivo",e),this.http.post(`${this.apiUrl}/${i}/imagen`,r).pipe((0,n.W)(c=>(console.error("Error subiendo imagen:",c),(0,l.of)({exito:!1,data:void 0,mensaje:c.error?.mensaje||"Error al subir imagen"}))))}cambiarPassword(i,e,r){return this.http.put(`${this.apiUrl}/${i}/password`,{passwordActual:e,passwordNuevo:r}).pipe((0,n.W)(h=>(console.error("Error cambiando password:",h),(0,l.of)({exito:!1,data:void 0,mensaje:h.error?.mensaje||"Error al cambiar contrase\xf1a"}))))}desactivarCuenta(i){return this.http.delete(`${this.apiUrl}/${i}`).pipe((0,n.W)(e=>(console.error("Error desactivando cuenta:",e),(0,l.of)({exito:!1,data:void 0,mensaje:e.error?.mensaje||"Error al desactivar cuenta"}))))}obtenerEstadisticas(i){return this.http.get(`${this.apiUrl}/${i}/estadisticas`).pipe((0,n.W)(e=>(console.error("Error obteniendo estad\xedsticas:",e),(0,l.of)({exito:!1,data:void 0,mensaje:e.error?.mensaje||"Error al obtener estad\xedsticas"}))))}obtenerUsuarioActual(){return this.http.get(`${this.apiUrl}/actual`).pipe((0,n.W)(i=>(console.error("Error obteniendo usuario actual:",i),(0,l.of)({exito:!1,data:void 0,mensaje:i.error?.mensaje||"Error al obtener usuario actual"}))))}static \u0275fac=function(e){return new(e||t)(g.KVO(s.Qq))};static \u0275prov=g.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})()},3225:(m,d,a)=>{a.d(d,{q:()=>l});var l=function(o){return o.ESTANDAR="Estandar",o.EQUITATIVO="Equitativo",o.PROPORCIONAL="Proporcional",o}(l||{})},6437:(m,d,a)=>{a.d(d,{f:()=>g});var l=a(9330),n=a(5312),o=a(8728);let g=(()=>{class s{http;apiUrl=`${n.c.apiUrl}/api/pagos`;constructor(t){this.http=t}crearPago(t){return console.log("[PagoService] crearPago",{pagoCreacion:t}),this.http.post(this.apiUrl,t)}obtenerPago(t){return console.log("[PagoService] obtenerPago",{idPago:t}),this.http.get(`${this.apiUrl}/${t}`)}obtenerPagosUsuario(t,u=!1){console.log("[PagoService] obtenerPagosUsuario",{idUsuario:t,recibidos:u});const i=(new l.Nl).set("recibidos",u.toString());return this.http.get(`${this.apiUrl}/usuario/${t}`,{params:i})}obtenerPagosPorGrupo(t){return console.log("[PagoService] obtenerPagosPorGrupo",{idGrupo:t}),this.http.get(`${this.apiUrl}/grupo/${t}`)}confirmarPago(t){return console.log("[PagoService] confirmarPago",{idPago:t}),this.http.put(`${this.apiUrl}/${t}/confirmar`,{})}rechazarPago(t,u){return console.log("[PagoService] rechazarPago",{idPago:t,motivo:u}),this.http.put(`${this.apiUrl}/${t}/rechazar`,u?{motivo:u}:{})}eliminarPago(t){return console.log("[PagoService] eliminarPago",{idPago:t}),this.http.delete(`${this.apiUrl}/${t}`)}obtenerPagosPendientes(){return console.log("[PagoService] obtenerPagosPendientes"),this.http.get(`${this.apiUrl}/pendientes`)}obtenerPagosCompletados(){return console.log("[PagoService] obtenerPagosCompletados"),this.http.get(`${this.apiUrl}/completados`)}obtenerPagosEnviados(t){return console.log("[PagoService] obtenerPagosEnviados",{idUsuario:t}),this.obtenerPagosUsuario(t,!1)}obtenerPagosRecibidos(t){return console.log("[PagoService] obtenerPagosRecibidos",{idUsuario:t}),this.obtenerPagosUsuario(t,!0)}static \u0275fac=function(u){return new(u||s)(o.KVO(l.Qq))};static \u0275prov=o.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})()},6627:(m,d,a)=>{a.d(d,{l:()=>n});var l=a(3664);let n=(()=>{class o{transform(s){if(null==s||""===s)return"$0.00";const p="string"==typeof s?parseFloat(s):s;return isNaN(p)?"$0.00":new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:2,maximumFractionDigits:2}).format(p)}static \u0275fac=function(p){return new(p||o)};static \u0275pipe=l.EJ8({name:"currencyFormat",type:o,pure:!0})}return o})()},8776:(m,d,a)=>{a.d(d,{a:()=>n});var l=a(3664);let n=(()=>{class o{transform(s,p="medium"){if(!s)return"";const t="string"==typeof s?new Date(s):s;if(isNaN(t.getTime()))return"";const i=(new Date).getTime()-t.getTime(),e=Math.floor(i/864e5);switch(p){case"short":return t.toLocaleDateString("es-AR",{day:"2-digit",month:"2-digit",year:"2-digit"});case"medium":return t.toLocaleDateString("es-AR",{day:"2-digit",month:"short",year:"numeric"});case"long":return t.toLocaleDateString("es-AR",{weekday:"long",day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"});case"relative":return 0===e?"Hoy":1===e?"Ayer":e<7?`Hace ${e} d\xedas`:e<30?`Hace ${Math.floor(e/7)} semanas`:t.toLocaleDateString("es-AR",{day:"2-digit",month:"short",year:"numeric"});default:return t.toLocaleDateString("es-AR")}}static \u0275fac=function(p){return new(p||o)};static \u0275pipe=l.EJ8({name:"dateFormat",type:o,pure:!0})}return o})()}}]);